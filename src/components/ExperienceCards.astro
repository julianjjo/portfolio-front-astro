---
import Icons from "@icons/Icons.astro";

const experiences = [
  {
    title: "Farmatodo",
    time: "Currently, 2 years",
    description:
      'Backend developer in <span class="text-white font-bold">Spring Boot</span> and <span class="text-white font-bold">NestJS</span>, developing new functionalities for microservices, working with <span class="text-white font-bold">OracleDB</span> and <span class="text-white font-bold">PostgreSQL</span>. Additionally, I excel in crafting <span class="text-white font-bold">Python</span> scripts for automation and data manipulation.',
    logos: [
      { key: 0, svg: "JavaIcon" },
      { key: 1, svg: "NodeJsIcon" },
      { key: 2, svg: "PythonIcon" },
      { key: 3, svg: "SpringBootIcon" },
      { key: 4, svg: "NestJsIcon" },
      { key: 5, svg: "OracleDbIcon" },
      { key: 6, svg: "PostgreSqlIcon" },
      { key: 7, svg: "GoogleCloudIcon" },
    ],
  },
  {
    title: "Sophos Solutions",
    time: "2 years",
    description:
      'Developed a platform for creating automated tests using <span class="text-white font-bold">Java</span> with <span class="text-white font-bold">Spring Boot</span> and <span class="text-white font-bold">Angular</span>, targeting testers without Automation experience.',
    logos: [
      { key: 0, svg: "JavaIcon" },
      { key: 1, svg: "PostgreSqlIcon" },
      { key: 2, svg: "AngularIcon" },
      { key: 3, svg: "HtmlIcon" },
      { key: 4, svg: "CssIcon" },
      { key: 5, svg: "TsIcon" },
      { key: 6, svg: "AwsIcon" },
    ],
  },
  {
    title: "ElTiempo",
    time: "3 years",
    description:
      'Full stack developer using <span class="text-white font-bold">Angular</span> and <span class="text-white font-bold">Symfony</span>. Improved and added new functionalities to their news website.',
    logos: [
      { key: 0, svg: "SymfonyIcon" },
      { key: 1, svg: "PhpIcon" },
      { key: 2, svg: "MySqlIcon" },
      { key: 3, svg: "HtmlIcon" },
      { key: 4, svg: "CssIcon" },
      { key: 5, svg: "JsIcon" },
    ],
  },
  {
    title: "Ministry of Environment",
    time: "1 year",
    description:
      'Developed new functionalities for an LMS platform using <span class="text-white font-bold">PHP</span> and <span class="text-white font-bold">MySQL</span>.',
    logos: [
      { key: 0, svg: "PhpIcon" },
      { key: 1, svg: "MySqlIcon" },
      { key: 2, svg: "HtmlIcon" },
      { key: 3, svg: "CssIcon" },
      { key: 4, svg: "JsIcon" },
    ],
  },
  {
    title: "Fusagasuga City Hall",
    time: "9 months",
    description:
      'Full stack developer with <span class="text-white font-bold">Symfony</span>, <span class="text-white font-bold">CSS</span>, <span class="text-white font-bold">HTML</span>. Developed an open data platform.',
    logos: [
      { key: 0, svg: "SymfonyIcon" },
      { key: 1, svg: "PhpIcon" },
      { key: 2, svg: "PostgreSqlIcon" },
      { key: 3, svg: "HtmlIcon" },
      { key: 4, svg: "CssIcon" },
      { key: 5, svg: "JsIcon" },
    ],
  },
];
---

<div class="grid grid-cols-1 md:grid-cols-2 gap-8 px-4 md:px-20 py-10">
  {
    experiences.map((experience, index) => (
      <div
        class="glass-card group flex flex-col rounded-3xl overflow-hidden transition-all duration-500 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,255,255,0.05)] border-white/5 hover:border-white/20 animate-slide-up"
        style={`animation-delay: ${index * 150}ms`}
      >
        <!-- Card Header -->
        <div class="p-8 pb-4 relative overflow-hidden">
          <div class="absolute top-0 right-0 p-4">
             <span class="text-[10px] uppercase tracking-tighter text-slate-500 font-bold border border-white/10 px-3 py-1 rounded-full group-hover:border-violet-500/50 transition-colors">
              {experience.time}
            </span>
          </div>
          <h3 class="text-3xl font-black text-white group-hover:text-violet-400 transition-colors playfair-display mb-2 mt-4">
            {experience.title}
          </h3>
          <div class="h-1 w-12 bg-violet-600 rounded-full group-hover:w-24 transition-all duration-500"></div>
        </div>

        <!-- Description -->
        <div class="px-8 flex-grow flex items-center">
          <p
            class="text-slate-400 leading-relaxed text-sm md:text-base group-hover:text-slate-300 transition-colors"
            set:html={experience.description}
          />
        </div>

        <!-- Logos / Stack -->
        <div class="p-8 grid grid-cols-5 gap-4 filter grayscale group-hover:grayscale-0 transition-all duration-500 border-t border-white/5 mt-6">
          {experience.logos.map((logo) => (
            <div class="flex items-center justify-center hover:scale-125 transition-transform" title={logo.svg.replace('Icon', '')}>
              <Icons width="30" height="30" name={logo.svg} />
            </div>
          ))}
        </div>
      </div>
    ))
  }
</div>

<style>
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slide-up {
    animation: slideUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) both;
  }
</style>
